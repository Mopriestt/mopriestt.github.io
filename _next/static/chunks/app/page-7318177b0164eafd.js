(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3382:(e,a,t)=>{"use strict";t.d(a,{default:()=>c});var s=t(5155),r=t(2115);let o="29d74dd17a90a2a00e156ade7c3bcf5f";async function n(e){let{latitude:a,longitude:t}=e,[s,r]=await Promise.all([fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(a,"&lon=").concat(t,"&appid=").concat(o,"&units=metric")),fetch("https://api.openweathermap.org/data/2.5/forecast?lat=".concat(a,"&lon=").concat(t,"&appid=").concat(o,"&units=metric"))]);if(!s.ok||!r.ok)throw Error("Failed to fetch weather data");let n=[await s.json(),...(await r.json()).list];return n.forEach(e=>{e.weather[0].iconUrl="https://openweathermap.org/img/wn/".concat(e.weather[0].icon,".png")}),n}let i={0:"Sun",1:"Mon",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat"};function l(e){let{data:a}=e,t=i[a.date.getDay()];return(0,s.jsxs)("div",{className:"flex flex-col items-center px-2 py-3 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm text-gray-700",children:t}),(0,s.jsx)("img",{src:a.iconUrl,alt:"weather icon",className:"w-10 h-10 my-1"}),(0,s.jsxs)("p",{className:"text-sm text-gray-800",children:[Math.round(a.maxTemp),"\xb0"," ",(0,s.jsxs)("span",{className:"text-gray-500 text-xs",children:[Math.round(a.minTemp),"\xb0"]})]})]})}function c(){var e;let[a,t]=(0,r.useState)([]),[o,i]=(0,r.useState)(null),c=function(e){let[a,t]=(0,r.useState)({status:"loading"});return(0,r.useEffect)(()=>{if(!navigator.geolocation)return void t({status:"error",message:"Geolocation is not supported by your browser"});navigator.geolocation.getCurrentPosition(e=>{t({status:"success",coords:e.coords})},a=>{a.code===a.PERMISSION_DENIED?t({status:"error",message:e}):t({status:"error",message:a.message})})},[]),a}("Please enable location access to get weather data");(0,r.useEffect)(()=>{"success"===c.status?n(c.coords).then(t).catch(e=>i(e.message)):"error"===c.status&&i(c.message)},[c]);let d=(0,r.useMemo)(()=>{let e={};for(let t of a){let a=new Date(1e3*t.dt).toISOString().split("T")[0];e[a]||(e[a]=[]),e[a].push(t)}return Object.values(e).map(e=>({date:new Date(1e3*e[0].dt),minTemp:Math.min(...e.map(e=>e.main.temp)),maxTemp:Math.max(...e.map(e=>e.main.temp)),mainWeather:e[0].weather[0].main,description:e[0].weather[0].description,iconUrl:e[0].weather[0].iconUrl}))},[a]);return"loading"===c.status?(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsx)("div",{className:"h-6 w-32 bg-gray-200 rounded mb-4"}),(0,s.jsx)("div",{className:"grid grid-cols-5 gap-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,a)=>(0,s.jsx)("div",{className:"h-40 bg-gray-200 rounded"},a))})]}):o?(0,s.jsx)("div",{className:"text-red-500",children:o}):(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:(null==(e=a[0])?void 0:e.name)||"Current Location"}),(0,s.jsx)("div",{className:"flex gap-2 overflow-x-auto",children:d.map((e,a)=>(0,s.jsx)(l,{data:e},a))})]})}},4806:(e,a,t)=>{Promise.resolve().then(t.bind(t,8638)),Promise.resolve().then(t.bind(t,3382))},8638:(e,a,t)=>{"use strict";t.d(a,{default:()=>n});var s=t(5155),r=t(8999),o=t(2115);function n(){let[e,a]=(0,o.useState)(!1),t=(0,r.useRouter)();return(0,s.jsxs)("div",{className:"fixed left-0 top-0 h-screen w-64 bg-white shadow-lg transition-transform duration-300 ease-in-out z-40 ".concat(e?"translate-x-0":"-translate-x-[calc(100%-20px)]"),children:[(0,s.jsx)("div",{className:"absolute right-0 top-0 h-full w-5 cursor-pointer bg-gray-100 hover:bg-gray-200 transition-colors",onClick:()=>a(!e)}),(0,s.jsxs)("div",{className:"p-5",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-5",children:"Menu"}),(0,s.jsxs)("ul",{className:"space-y-5",children:[(0,s.jsx)("li",{className:"group cursor-pointer",onClick:()=>t.push("/game/stack"),children:(0,s.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-all duration-300 hover:translate-x-6",children:(0,s.jsx)("span",{className:"text-gray-600 group-hover:text-gray-900 transition-colors duration-200",children:"Stack"})})}),(0,s.jsx)("li",{className:"group",children:(0,s.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-all duration-300 hover:translate-x-6",children:(0,s.jsx)("span",{className:"text-gray-600 group-hover:text-gray-900 transition-colors duration-200",children:"Item 2"})})}),(0,s.jsx)("li",{className:"group",children:(0,s.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-all duration-300 hover:translate-x-6",children:(0,s.jsx)("span",{className:"text-gray-600 group-hover:text-gray-900 transition-colors duration-200",children:"Item 3"})})})]})]})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[441,684,358],()=>a(4806)),_N_E=e.O()}]);