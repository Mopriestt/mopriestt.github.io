(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[950],{3544:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r(5155),i=r(2115),o=r(2951);function l(){let e=(0,i.useRef)(null),t=(0,i.useRef)(null),r=(0,i.useRef)(null),[l,s]=(0,i.useState)(!1),a=(0,i.useRef)(null),[c,u]=(0,i.useState)("square"),[d,h]=(0,i.useState)(0),g=(e,t,n)=>{let i;if(!r.current)return;let l=o.Bodies,s=o.Composite;switch(n){case"square":i=l.rectangle(e,t,60,60,{frictionAir:.001,render:{fillStyle:"#000000",strokeStyle:"#000000",lineWidth:1}});break;case"triangle":i=l.polygon(e,t,3,35,{frictionAir:.001,angle:Math.PI/2,render:{fillStyle:"#000000",strokeStyle:"#000000",lineWidth:1}});break;case"circle":i=l.circle(e,t,30,{frictionAir:.001,render:{fillStyle:"#000000",strokeStyle:"#000000",lineWidth:1}})}if(i)return s.add(r.current,i),i},f=(e,t)=>{e.preventDefault(),s(!0),u(t);let r=e.currentTarget.getBoundingClientRect(),n=g(r.left+r.width/2,r.top+r.height/2,t);n&&(a.current=n,o.Body.setStatic(n,!0))};return(0,i.useEffect)(()=>{var n;let i=o.Engine,l=o.Render,s=o.Runner;o.MouseConstraint,o.Mouse;let a=o.Composite,c=o.Bodies,u=o.Events,g=i.create();t.current=g;let f=g.world;r.current=f,u.on(g,"afterUpdate",()=>{let e=f.bodies.filter(e=>!e.isStatic);if(e.length>0){let t=Math.min(...e.map(e=>e.position.y));h(Math.max(d,window.innerHeight-t))}});let p=window.innerWidth,y=window.innerHeight,w=l.create({element:e.current,engine:g,options:{width:p,height:y,wireframes:!0,background:"#ffffff"}}),v=document.createElement("canvas");v.width=p,v.height=y,v.style.position="absolute",v.style.top="0",v.style.left="0",v.style.pointerEvents="none",null==(n=e.current)||n.appendChild(v);let b=v.getContext("2d");if(b){b.strokeStyle="rgba(229, 231, 235, 0.3)",b.lineWidth=.5;for(let e=0;e<=p;e+=20)b.beginPath(),b.moveTo(e,0),b.lineTo(e,y),b.stroke();for(let e=0;e<=y;e+=20)b.beginPath(),b.moveTo(0,e),b.lineTo(p,e),b.stroke()}l.run(w);let x=s.create();s.run(x,g),a.add(f,[c.rectangle(p/2,0,p,50,{isStatic:!0}),c.rectangle(p/2,y,p,50,{isStatic:!0}),c.rectangle(p,y/2,50,y,{isStatic:!0}),c.rectangle(0,y/2,50,y,{isStatic:!0})]);let m=()=>{let e=window.innerWidth,t=window.innerHeight;if(w.options.width=e,w.options.height=t,w.canvas.width=e,w.canvas.height=t,v.width=e,v.height=t,b){b.clearRect(0,0,e,t),b.strokeStyle="rgba(229, 231, 235, 0.3)",b.lineWidth=.5;for(let r=0;r<=e;r+=20)b.beginPath(),b.moveTo(r,0),b.lineTo(r,t),b.stroke();for(let r=0;r<=t;r+=20)b.beginPath(),b.moveTo(0,r),b.lineTo(e,r),b.stroke()}let r=f.bodies.filter(e=>e.isStatic);4===r.length&&(o.Body.setPosition(r[0],{x:e/2,y:0}),o.Body.setPosition(r[1],{x:e/2,y:t}),o.Body.setPosition(r[2],{x:e,y:t/2}),o.Body.setPosition(r[3],{x:0,y:t/2}))};return window.addEventListener("resize",m),()=>{l.stop(w),s.stop(x),i.clear(g),window.removeEventListener("resize",m),v.remove()}},[]),(0,n.jsxs)("div",{className:"w-full h-screen relative",onMouseMove:e=>{e.preventDefault(),l&&a.current&&o.Body.setPosition(a.current,{x:e.clientX,y:e.clientY})},onMouseUp:e=>{e.preventDefault(),a.current&&(o.Body.setStatic(a.current,!1),a.current=null),s(!1)},children:[(0,n.jsx)("div",{ref:e,className:"w-full h-full"}),(0,n.jsxs)("div",{className:"absolute top-8 left-8 text-white text-2xl font-bold",children:["Score: ",Math.floor(d)]}),(0,n.jsxs)("div",{className:"absolute top-24 right-24 flex flex-col gap-8",children:[(0,n.jsx)("div",{onMouseDown:e=>f(e,"square"),className:"w-[60px] h-[60px] ".concat(l&&"square"===c?"bg-gray-800/80":"bg-gray-600/60 hover:bg-gray-700/70"," transition-colors cursor-pointer")}),(0,n.jsx)("div",{onMouseDown:e=>f(e,"triangle"),className:"w-[60px] h-[60px] ".concat(l&&"triangle"===c?"bg-gray-800/80":"bg-gray-600/60 hover:bg-gray-700/70"," transition-colors cursor-pointer"),style:{clipPath:"polygon(50% 0%, 0% 100%, 100% 100%)"}}),(0,n.jsx)("div",{onMouseDown:e=>f(e,"circle"),className:"w-[60px] h-[60px] ".concat(l&&"circle"===c?"bg-gray-800/80":"bg-gray-600/60 hover:bg-gray-700/70"," transition-colors cursor-pointer rounded-full")})]})]})}},8300:(e,t,r)=>{Promise.resolve().then(r.bind(r,3544))}},e=>{var t=t=>e(e.s=t);e.O(0,[26,441,684,358],()=>t(8300)),_N_E=e.O()}]);